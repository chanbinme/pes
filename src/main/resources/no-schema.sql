DROP TABLE IF EXISTS END_YEAR;
CREATE TABLE END_YEAR
(
    YEAR     VARCHAR(255) NOT NULL,
    INS_DATE TIMESTAMP,
    INS_IP   VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP   VARCHAR(15),
    MOD_USER VARCHAR(50),
    PRIMARY KEY (YEAR)
);

DROP TABLE IF EXISTS USERS CASCADE;
CREATE TABLE "USERS"
(
    ID VARCHAR(50) NOT NULL,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    NAME VARCHAR(50) NOT NULL,
    PASSWORD VARCHAR(200) NOT NULL,
    POSITION VARCHAR(50),
    POSITION_GB VARCHAR(1),
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS ORGANIZATION CASCADE;
CREATE TABLE "ORGANIZATION"
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    TITLE VARCHAR(50) NOT NULL,
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS TASK CASCADE;
CREATE TABLE "TASK"
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    PROJECT_TITLE VARCHAR(50),
    TASK_PROGRESS INTEGER NOT NULL,
    TASK_STATE VARCHAR(10),
    TASK_TITLE VARCHAR(300) NOT NULL,
    YEAR VARCHAR(4) NOT NULL,
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS TASK_ORGANIZATION_MAPPING CASCADE;
CREATE TABLE "TASK_ORGANIZATION_MAPPING"
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    CHARGE_TEAM_ID BIGINT,
    TASK_ID BIGINT,
    PRIMARY KEY (ID),
    FOREIGN KEY ("CHARGE_TEAM_ID") REFERENCES ORGANIZATION ("ID"),
    FOREIGN KEY ("TASK_ID") REFERENCES TASK ("ID")
);

DROP TABLE IF EXISTS OFFICER_EVALUATION_PERIOD CASCADE;
CREATE TABLE OFFICER_EVALUATION_PERIOD
(
    ID         BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE   TIMESTAMP,
    INS_IP     VARCHAR(15),
    INS_USER   VARCHAR(50),
    MOD_DATE   TIMESTAMP,
    MOD_IP     VARCHAR(15),
    MOD_USER   VARCHAR(50),
    END_DATE   TIMESTAMP NOT NULL,
    START_DATE TIMESTAMP NOT NULL,
    PRIMARY KEY (ID)
);


DROP TABLE IF EXISTS ORGANIZATION_HIERARCHY CASCADE;
CREATE TABLE "ORGANIZATION_HIERARCHY"
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    DEPTH INTEGER NOT NULL,
    SORT INTEGER NOT NULL,
    ANCESTOR_ORGANIZATION_ID BIGINT,
    DESCENDANT_ORGANIZATION_ID BIGINT,
    PRIMARY KEY (ID),
    FOREIGN KEY ("ANCESTOR_ORGANIZATION_ID") REFERENCES ORGANIZATION ("ID"),
    FOREIGN KEY ("DESCENDANT_ORGANIZATION_ID") REFERENCES ORGANIZATION ("ID")
);

DROP TABLE IF EXISTS TASK_EVALUATION CASCADE;
CREATE TABLE "TASK_EVALUATION"
(
    CHARGE_TEAM_ID BIGINT NOT NULL,
    TASK_ID BIGINT NOT NULL,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    CEO_POINT INTEGER,
    COND_CEO VARCHAR(10),
    COND_OFFICER VARCHAR(10),
    LEVEL_CEO VARCHAR(10),
    LEVEL_OFFICER VARCHAR(10),
    NOTE VARCHAR(500),
    OFFICER_POINT INTEGER,
    STATE VARCHAR(1) DEFAULT 'N',
    TASK_GB VARCHAR(10),
    TOTAL_POINT DOUBLE,
    WEIGHT DOUBLE,
    PRIMARY KEY (CHARGE_TEAM_ID, TASK_ID),
    FOREIGN KEY ("TASK_ID") REFERENCES TASK ("ID"),
    FOREIGN KEY ("CHARGE_TEAM_ID") REFERENCES ORGANIZATION ("ID")
);

DROP TABLE IF EXISTS EVALUATION_TOTAL CASCADE;
CREATE TABLE EVALUATION_TOTAL
(
    ID          BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE    TIMESTAMP,
    INS_IP      VARCHAR(15),
    INS_USER    VARCHAR(50),
    MOD_DATE    TIMESTAMP,
    MOD_IP      VARCHAR(15),
    MOD_USER    VARCHAR(50),
    NOTE        VARCHAR(500),
    RANKING     VARCHAR(1),
    TEAM_TITLE  VARCHAR(50),
    TOTAL_POINT DOUBLE,
    YEAR        VARCHAR(4),
    TEAM_ID     BIGINT,
    PRIMARY KEY (ID),
    FOREIGN KEY ("TEAM_ID") REFERENCES ORGANIZATION ("ID")
);

DROP TABLE IF EXISTS ORGANIZATION_LEAD CASCADE;
CREATE TABLE "ORGANIZATION_LEAD"
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    INS_DATE TIMESTAMP,
    INS_IP VARCHAR(15),
    INS_USER VARCHAR(50),
    MOD_DATE TIMESTAMP,
    MOD_IP VARCHAR(15),
    MOD_USER VARCHAR(50),
    END_DATE DATE,
    START_DATE DATE,
    ORGANIZATION_ID BIGINT,
    LEAD_ID VARCHAR(255),
    PRIMARY KEY (ID),
    FOREIGN KEY ("ORGANIZATION_ID") REFERENCES ORGANIZATION ("ID"),
    FOREIGN KEY ("LEAD_ID") REFERENCES USERS ("ID")
)